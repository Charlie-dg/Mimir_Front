import{y as C,a as h,K as P,ax as y,ad as S}from"./index.344cfd6b.js";import{d as I,s as u,a as b}from"./easing.1a8f6470.js";import{n as q}from"./form.ede56f38.js";const F=C({name:"VDialogTransition",props:{target:Object},setup(s,n){let{slots:e}=n;const a={onBeforeEnter(t){t.style.pointerEvents="none",t.style.visibility="hidden"},async onEnter(t,p){var i;await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),t.style.visibility="";const{x:r,y:d,sx:l,sy:m,speed:c}=x(s.target,t),f=t.animate([{transform:`translate(${r}px, ${d}px) scale(${l}, ${m})`,opacity:0},{transform:""}],{duration:225*c,easing:I});(i=v(t))==null||i.forEach(o=>{o.animate([{opacity:0},{opacity:0,offset:.33},{opacity:1}],{duration:225*2*c,easing:u})}),f.finished.then(()=>p())},onAfterEnter(t){t.style.removeProperty("pointer-events")},onBeforeLeave(t){t.style.pointerEvents="none"},async onLeave(t,p){var i;await new Promise(o=>requestAnimationFrame(o));const{x:r,y:d,sx:l,sy:m,speed:c}=x(s.target,t);t.animate([{transform:""},{transform:`translate(${r}px, ${d}px) scale(${l}, ${m})`,opacity:0}],{duration:125*c,easing:b}).finished.then(()=>p()),(i=v(t))==null||i.forEach(o=>{o.animate([{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*c,easing:u})})},onAfterLeave(t){t.style.removeProperty("pointer-events")}};return()=>s.target?h(y,P({name:"dialog-transition"},a,{css:!1}),e):h(y,{name:"dialog-transition"},e)}});function v(s){var n;const e=(n=s.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:n.children;return e&&[...e]}function x(s,n){const e=s.getBoundingClientRect(),a=q(n),[t,p]=getComputedStyle(n).transformOrigin.split(" ").map($=>parseFloat($)),[i,r]=getComputedStyle(n).getPropertyValue("--v-overlay-anchor-origin").split(" ");let d=e.left+e.width/2;i==="left"||r==="left"?d-=e.width/2:(i==="right"||r==="right")&&(d+=e.width/2);let l=e.top+e.height/2;i==="top"||r==="top"?l-=e.height/2:(i==="bottom"||r==="bottom")&&(l+=e.height/2);const m=e.width/a.width,c=e.height/a.height,f=Math.max(1,m,c),o=m/f,w=c/f,g=a.width*a.height/(window.innerWidth*window.innerHeight),E=g>.12?Math.min(1.5,(g-.12)*10+1):1;return{x:d-(t+a.left),y:l-(p+a.top),sx:o,sy:w,speed:E}}function T(){const n=S("useScopeId").vnode.scopeId;return{scopeId:n?{[n]:""}:void 0}}export{F as V,T as u};
