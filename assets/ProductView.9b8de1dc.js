import{ba as b,bb as v,ab as x,ac as d,k as m,o as S,c as h,a as t,w as s,V as p,l as w,S as k,g as l,e as B,b as r,t as i,bc as N,ae as R,ad as j}from"./index.d75ef61a.js";import{V as q}from"./VForm.c1602be1.js";import{a as C}from"./VTextField.32f870a0.js";import{c as F}from"./createSimpleFunctional.6f5d9a26.js";import{a as T}from"./VOverlay.7a0abf4f.js";import"./form.16c34f48.js";const U=F("flex-grow-1","div","VSpacer"),D={id:"product"},E={class:"text-start"},I={class:"text-start"},M=j("\u52A0\u5165\u8CFC\u7269\u8ECA"),O=r("h1",{class:"text-black"},"\u5DF2\u4E0B\u67B6",-1),L={__name:"ProductView",setup(P){const _=b(),f=v(),V=x(),u=d(0),y=m([a=>a>=1||"\u8ACB\u9078\u64C7\u5546\u54C1\u6578\u91CF"]),c=d(!1),e=m({_id:"",name:"",price:0,sell:!0,category:"",image:"",description:""}),g=()=>{!c.value||V.addCart({product:e._id,quantity:u.value})};return(async()=>{try{const{data:a}=await w.get("/products/"+_.params.id);e._id=a.result._id,e.name=a.result.name,e.price=a.result.price,e.description=a.result.description,e.image=a.result.image,e.category=a.result.category,e.sell=a.result.sell}catch{k.fire({icon:"error",title:"\u5931\u6557",text:"\u53D6\u5F97\u5546\u54C1\u8CC7\u6599\u5931\u6557"}),f.go(-1)}})(),(a,o)=>(S(),h("div",D,[t(p,{justify:"center"},{default:s(()=>[t(l,{cols:"4"},{default:s(()=>[t(B,{src:e.image},null,8,["src"])]),_:1}),t(l,{cols:"5"},{default:s(()=>[r("h2",E,i(e.name),1),r("h2",I,"NT : $"+i(e.price),1),r("p",null,"\u5546\u54C1\u4ECB\u7D39 : "+i(e.description),1),t(l),r("p",null,"\u7A2E\u985E : "+i(e.category),1),t(l),t(p,{justify:"center"},{default:s(()=>[t(q,{modelValue:c.value,"onUpdate:modelValue":o[1]||(o[1]=n=>c.value=n),onSubmit:N(g,["prevent"])},{default:s(()=>[t(C,{type:"number",label:"\u6578\u91CF",modelValue:u.value,"onUpdate:modelValue":o[0]||(o[0]=n=>u.value=n),rules:y},null,8,["modelValue","rules"])]),_:1},8,["modelValue","onSubmit"]),t(U),t(R,{color:"black",type:"submit"},{default:s(()=>[M]),_:1})]),_:1}),t(T,{class:"align-center justify-center","model-value":!e.sell},{default:s(()=>[O]),_:1},8,["model-value"])]),_:1})]),_:1})]))}};export{L as default};
