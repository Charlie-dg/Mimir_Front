import{P as v,b5 as b,b6 as x,u as S,r as d,n as m,o as h,c as w,a as t,w as s,V as p,p as k,S as j,d as l,f as B,b as r,t as i,b7 as N,k as R,j as q}from"./index.d3c385b4.js";import{V as C}from"./VForm.53f0eaf0.js";import{b as F}from"./VTextField.675d77fe.js";import{a as T}from"./VOverlay.114b2a58.js";const U=v("flex-grow-1","div","VSpacer"),P={id:"product"},D={class:"text-start"},E={class:"text-start"},I=q("\u52A0\u5165\u8CFC\u7269\u8ECA"),M=r("h1",{class:"text-black"},"\u5DF2\u4E0B\u67B6",-1),J={__name:"ProductView",setup(O){const _=b(),f=x(),V=S(),u=d(0),y=m([a=>a>=1||"\u8ACB\u9078\u64C7\u5546\u54C1\u6578\u91CF"]),c=d(!1),e=m({_id:"",name:"",price:0,sell:!0,category:"",image:"",description:""}),g=()=>{!c.value||V.addCart({product:e._id,quantity:u.value})};return(async()=>{try{const{data:a}=await k.get("/products/"+_.params.id);e._id=a.result._id,e.name=a.result.name,e.price=a.result.price,e.description=a.result.description,e.image=a.result.image,e.category=a.result.category,e.sell=a.result.sell}catch{j.fire({icon:"error",title:"\u5931\u6557",text:"\u53D6\u5F97\u5546\u54C1\u8CC7\u6599\u5931\u6557"}),f.go(-1)}})(),(a,o)=>(h(),w("div",P,[t(p,{justify:"center"},{default:s(()=>[t(l,{cols:"4"},{default:s(()=>[t(B,{src:e.image},null,8,["src"])]),_:1}),t(l,{cols:"5"},{default:s(()=>[r("h2",D,i(e.name),1),r("h2",E,"NT : $"+i(e.price),1),r("p",null,"\u5546\u54C1\u4ECB\u7D39 : "+i(e.description),1),t(l),r("p",null,"\u7A2E\u985E : "+i(e.category),1),t(l),t(p,{justify:"center"},{default:s(()=>[t(C,{modelValue:c.value,"onUpdate:modelValue":o[1]||(o[1]=n=>c.value=n),onSubmit:N(g,["prevent"])},{default:s(()=>[t(F,{type:"number",label:"\u6578\u91CF",modelValue:u.value,"onUpdate:modelValue":o[0]||(o[0]=n=>u.value=n),rules:y},null,8,["modelValue","rules"])]),_:1},8,["modelValue","onSubmit"]),t(U),t(R,{color:"black",type:"submit"},{default:s(()=>[I]),_:1})]),_:1}),t(T,{class:"align-center justify-center","model-value":!e.sell},{default:s(()=>[M]),_:1},8,["model-value"])]),_:1})]),_:1})]))}};export{J as default};
