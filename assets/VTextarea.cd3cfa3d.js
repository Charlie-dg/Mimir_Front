import{m as J,c as K,f as Q,d as W,e as X,g as Y,b as Z}from"./VTextField.32f870a0.js";import{v as ee,I as oe,aC as ie,aF as re,ai as te,a3 as d,ac as v,C as le,aB as ae,a,as as k,F as I,bk as q,aH as O,aO as se,bl as ce,aq as N,aj as de,a4 as L,a5 as ve,bm as fe,au as me,b0 as ge}from"./index.d75ef61a.js";import{f as ne}from"./form.16c34f48.js";import{a as he}from"./VCheckboxBtn.19193ed7.js";const Se=ee({name:"VFileInput",inheritAttrs:!1,props:{chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},multiple:Boolean,hint:String,persistentHint:Boolean,placeholder:String,showSize:{type:[Boolean,Number],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(e)},...J(),prependIcon:{type:oe,default:"$file"},modelValue:{type:Array,default:()=>[],validator:e=>ie(e).every(C=>C!=null&&typeof C=="object")},...K({clearable:!0})},emits:{"click:clear":e=>!0,"click:control":e=>!0,"update:modelValue":e=>!0},setup(e,C){let{attrs:P,emit:B,slots:u}=C;const{t:i}=re(),r=te(e,"modelValue"),A=d(()=>typeof e.showSize!="boolean"?e.showSize:void 0),D=d(()=>{var l;return((l=r.value)!=null?l:[]).reduce((n,o)=>{let{size:t=0}=o;return n+t},0)}),$=d(()=>q(D.value,A.value)),x=d(()=>{var l;return((l=r.value)!=null?l:[]).map(n=>{const{name:o="",size:t=0}=n;return e.showSize?`${o} (${q(t,A.value)})`:o})}),y=d(()=>{var l,n;const o=(l=(n=r.value)==null?void 0:n.length)!=null?l:0;return e.showSize?i(e.counterSizeString,o,$.value):i(e.counterString,o)}),R=v(),S=v(),V=v(!1),s=v(),z=d(()=>e.messages.length?e.messages:e.persistentHint?e.hint:"");function _(){if(s.value!==document.activeElement){var l;(l=s.value)==null||l.focus()}V.value||(V.value=!0)}function T(l){var n;(n=s.value)==null||n.click(),B("click:control",l)}function U(l){l.stopPropagation(),_(),O(()=>{r.value=[],s!=null&&s.value&&(s.value.value=""),B("click:clear",l)})}return le(()=>{const l=!!(u.counter||e.counter),n=!!(l||u.details),[o,t]=ae(P),[{modelValue:f,...c}]=Q(e),[m]=W(e);return a(Z,k({ref:R,modelValue:r.value,"onUpdate:modelValue":g=>r.value=g,class:"v-file-input"},o,c,{"onClick:prepend":T,messages:z.value}),{...u,default:g=>{let{isDisabled:F,isDirty:w,isReadonly:b,isValid:p}=g;return a(X,k({ref:S,"prepend-icon":e.prependIcon,"onClick:control":T,"onClick:clear":U},m,{active:w.value||V.value,dirty:w.value,focused:V.value,error:p.value===!1}),{...u,default:G=>{let{props:{class:M,...j}}=G;return a(I,null,[a("input",k({ref:s,type:"file",readonly:b.value,disabled:F.value,multiple:e.multiple,name:e.name,onClick:h=>{h.stopPropagation(),_()},onChange:h=>{var H;if(!h.target)return;const E=h.target;r.value=[...(H=E.files)!=null?H:[]]},onFocus:_,onBlur:()=>V.value=!1},j,t),null),r.value.length>0&&a("div",{class:M},[u.selection?u.selection({fileNames:x.value,totalBytes:D.value,totalBytesReadable:$.value}):e.chips?x.value.map(h=>a(he,{key:h,size:"small",color:e.color},{default:()=>[h]})):x.value.join(", ")])])}})},details:n?g=>{var F;return a(I,null,[(F=u.details)==null?void 0:F.call(u,g),l&&a(I,null,[a("span",null,null),a(Y,{active:!!r.value.length,value:y.value},u.counter)])])}:void 0})}),ne({},R,S,s)}});const be=ee({name:"VTextarea",directives:{Intersect:se},inheritAttrs:!1,props:{autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,hint:String,persistentHint:Boolean,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,...J(),...K()},emits:{"click:clear":e=>!0,"click:control":e=>!0,"update:modelValue":e=>!0},setup(e,C){let{attrs:P,emit:B,slots:u}=C;const i=te(e,"modelValue"),r=d(()=>typeof e.counterValue=="function"?e.counterValue(i.value):(i.value||"").toString().length),A=d(()=>{if(P.maxlength)return P.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function D(t,f){var c,m;!e.autofocus||!t||(c=f[0].target)==null||(m=c.focus)==null||m.call(c)}const $=v(),x=v(),y=v(!1),R=v(""),S=v(),V=d(()=>y.value||e.persistentPlaceholder),s=d(()=>e.messages.length?e.messages:V.value||e.persistentHint?e.hint:"");function z(){if(S.value!==document.activeElement){var t;(t=S.value)==null||t.focus()}y.value||(y.value=!0)}function _(t){z(),B("click:control",t)}function T(t){t.stopPropagation(),z(),O(()=>{i.value="",B("click:clear",t)})}function U(t){i.value=t.target.value}const l=v();function n(){!e.autoGrow||O(()=>{if(!l.value||!x.value)return;const t=getComputedStyle(l.value),f=getComputedStyle(x.value.$el),c=parseFloat(t.getPropertyValue("--v-field-padding-top"))+parseFloat(t.getPropertyValue("--v-input-padding-top"))+parseFloat(t.getPropertyValue("--v-field-padding-bottom")),m=l.value.scrollHeight,g=parseFloat(t.lineHeight),F=Math.max(parseFloat(e.rows)*g+c,parseFloat(f.getPropertyValue("--v-input-control-height"))),w=parseFloat(e.maxRows)*g+c||1/0;R.value=me(ge(m!=null?m:0,F,w))})}ce(n),N(i,n),N(()=>e.rows,n),N(()=>e.maxRows,n),N(()=>e.density,n);let o;return N(l,t=>{if(t)o=new ResizeObserver(n),o.observe(l.value);else{var f;(f=o)==null||f.disconnect()}}),de(()=>{var t;(t=o)==null||t.disconnect()}),le(()=>{const t=!!(u.counter||e.counter||e.counterValue),f=!!(t||u.details),[c,m]=ae(P),[{modelValue:g,...F}]=Q(e),[w]=W(e);return a(Z,k({ref:$,modelValue:i.value,"onUpdate:modelValue":b=>i.value=b,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow}]},c,F,{messages:s.value}),{...u,default:b=>{let{isDisabled:p,isDirty:G,isReadonly:M,isValid:j}=b;return a(X,k({ref:x,style:{"--v-textarea-control-height":R.value},"onClick:control":_,"onClick:clear":T,role:"textbox"},w,{active:V.value||G.value,dirty:G.value||e.dirty,focused:y.value,error:j.value===!1}),{...u,default:h=>{let{props:{class:H,...E}}=h;return a(I,null,[e.prefix&&a("span",{class:"v-text-field__prefix"},[e.prefix]),L(a("textarea",k({ref:S,class:H,value:i.value,onInput:U,autofocus:e.autofocus,readonly:M.value,disabled:p.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:z,onBlur:()=>y.value=!1},E,m),null),[[ve("intersect"),{handler:D},null,{once:!0}]]),e.autoGrow&&L(a("textarea",{class:[H,"v-textarea__sizer"],"onUpdate:modelValue":ue=>i.value=ue,ref:l,readonly:!0,"aria-hidden":"true"},null),[[fe,i.value]]),e.suffix&&a("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:f?b=>{var p;return a(I,null,[(p=u.details)==null?void 0:p.call(u,b),t&&a(I,null,[a("span",null,null),a(Y,{active:e.persistentCounter||y.value,value:r.value,max:A.value},u.counter)])])}:void 0})}),ne({},$,x,S)}});export{Se as V,be as a};
