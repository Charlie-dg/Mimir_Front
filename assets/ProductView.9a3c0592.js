import{a9 as v,bb as b,bc as x,T as S,G as d,r as m,o as h,c as w,a as t,w as s,V as p,b as k,S as B,d as l,i as N,g as r,t as i,bd as R,L as T,W as j}from"./index.bd4fd932.js";import{V as q}from"./VForm.c3d7715b.js";import{a as C}from"./VTextField.8a73386a.js";import{a as F}from"./VOverlay.2f2e3911.js";import"./form.c4e01d6d.js";import"./easing.1a8f6470.js";const U=v("flex-grow-1","div","VSpacer"),D={id:"product"},E={class:"text-start"},G={class:"text-start"},I=j("\u52A0\u5165\u8CFC\u7269\u8ECA"),L=r("h1",{class:"text-black"},"\u5DF2\u4E0B\u67B6",-1),J={__name:"ProductView",setup(M){const _=b(),f=x(),V=S(),u=d(0),y=m([a=>a>=1||"\u8ACB\u9078\u64C7\u5546\u54C1\u6578\u91CF"]),c=d(!1),e=m({_id:"",name:"",price:0,sell:!0,category:"",image:"",description:""}),g=()=>{!c.value||V.addCart({product:e._id,quantity:u.value})};return(async()=>{try{const{data:a}=await k.get("/products/"+_.params.id);e._id=a.result._id,e.name=a.result.name,e.price=a.result.price,e.description=a.result.description,e.image=a.result.image,e.category=a.result.category,e.sell=a.result.sell}catch{B.fire({icon:"error",title:"\u5931\u6557",text:"\u53D6\u5F97\u5546\u54C1\u8CC7\u6599\u5931\u6557"}),f.go(-1)}})(),(a,o)=>(h(),w("div",D,[t(p,{justify:"center"},{default:s(()=>[t(l,{cols:"4"},{default:s(()=>[t(N,{src:e.image},null,8,["src"])]),_:1}),t(l,{cols:"5"},{default:s(()=>[r("h2",E,i(e.name),1),r("h2",G,"NT : $"+i(e.price),1),r("p",null,"\u5546\u54C1\u4ECB\u7D39 : "+i(e.description),1),t(l),r("p",null,"\u7A2E\u985E : "+i(e.category),1),t(l),t(p,{justify:"center"},{default:s(()=>[t(q,{modelValue:c.value,"onUpdate:modelValue":o[1]||(o[1]=n=>c.value=n),onSubmit:R(g,["prevent"])},{default:s(()=>[t(C,{type:"number",label:"\u6578\u91CF",modelValue:u.value,"onUpdate:modelValue":o[0]||(o[0]=n=>u.value=n),rules:y},null,8,["modelValue","rules"])]),_:1},8,["modelValue","onSubmit"]),t(U),t(T,{color:"black",type:"submit"},{default:s(()=>[I]),_:1})]),_:1}),t(F,{class:"align-center justify-center","model-value":!e.sell},{default:s(()=>[L]),_:1},8,["model-value"])]),_:1})]),_:1})]))}};export{J as default};
