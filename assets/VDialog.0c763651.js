import{K as y,Y as E,aw as h,B as x,a9 as S,r as B,ay as D,a4 as v,M as w,a as P,ag as T,az as A}from"./index.a78b8de5.js";import{c as R,u as k}from"./VSelect.48b7cb62.js";import{f as F}from"./VTextField.48e5f7c7.js";import{a as I}from"./VOverlay.6e7d8d66.js";const N=y()({name:"VDialog",inheritAttrs:!1,props:{fullscreen:Boolean,origin:{type:String,default:"center center"},retainFocus:{type:Boolean,default:!0},scrollable:Boolean,modelValue:Boolean,...E({width:"auto"}),...h({transition:{component:R}})},emits:{"update:modelValue":t=>!0},setup(t,f){let{attrs:m,slots:i}=f;const o=x(t,"modelValue"),{dimensionStyles:g}=S(t),{scopeId:p}=k(),e=B();function u(a){var l,n;const c=a.relatedTarget,s=a.target;if(c!==s&&(l=e.value)!=null&&l.contentEl&&(n=e.value)!=null&&n.globalTop&&![document,e.value.contentEl].includes(s)&&!e.value.contentEl.contains(s)){const r=[...e.value.contentEl.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')].filter(b=>!b.hasAttribute("disabled"));if(!r.length)return;const d=r[0],V=r[r.length-1];c===d?V.focus():d.focus()}}return D&&v(()=>o.value&&t.retainFocus,a=>{a?document.addEventListener("focusin",u):document.removeEventListener("focusin",u)},{immediate:!0}),v(o,async a=>{if(await A(),a){var l;(l=e.value.contentEl)==null||l.focus({preventScroll:!0})}else{var n;(n=e.value.activatorEl)==null||n.focus({preventScroll:!0})}}),w(()=>P(I,T({modelValue:o.value,"onUpdate:modelValue":a=>o.value=a,class:["v-dialog",{"v-dialog--fullscreen":t.fullscreen,"v-dialog--scrollable":t.scrollable}],style:g.value,transition:t.transition,ref:e,"aria-role":"dialog","aria-modal":"true",activatorProps:{"aria-haspopup":"dialog","aria-expanded":String(o.value)},"z-index":2400},p,m),{default:i.default,activator:i.activator})),F({},e)}});export{N as V};
