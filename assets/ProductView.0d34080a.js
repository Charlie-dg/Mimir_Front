import{ag as v,ba as b,bb as x,R as S,E as d,r as m,o as h,c as w,a as t,w as s,V as p,b as R,S as k,d as l,i as B,g as r,t as i,bc as N,K as U,U as j}from"./index.8948bb3a.js";import{V as q}from"./VForm.c534c9d3.js";import{V as C}from"./VTextField.4317c99d.js";import{a as F}from"./VOverlay.1ca83675.js";import"./form.360bbab9.js";import"./easing.1a8f6470.js";const T=v("flex-grow-1","div","VSpacer"),E={id:"product"},D={class:"text-start"},I={class:"text-start"},K=j("\u52A0\u5165\u8CFC\u7269\u8ECA"),M=r("h1",{class:"text-black"},"\u5DF2\u4E0B\u67B6",-1),L={__name:"ProductView",setup(O){const _=b(),f=x(),V=S(),u=d(0),g=m([a=>a>=1||"\u8ACB\u9078\u64C7\u5546\u54C1\u6578\u91CF"]),c=d(!1),e=m({_id:"",name:"",price:0,sell:!0,category:"",image:"",description:""}),y=()=>{!c.value||V.addCart({product:e._id,quantity:u.value})};return(async()=>{try{const{data:a}=await R.get("/products/"+_.params.id);e._id=a.result._id,e.name=a.result.name,e.price=a.result.price,e.description=a.result.description,e.image=a.result.image,e.category=a.result.category,e.sell=a.result.sell}catch{k.fire({icon:"error",title:"\u5931\u6557",text:"\u53D6\u5F97\u5546\u54C1\u8CC7\u6599\u5931\u6557"}),f.go(-1)}})(),(a,o)=>(h(),w("div",E,[t(p,{justify:"center"},{default:s(()=>[t(l,{cols:"4"},{default:s(()=>[t(B,{src:e.image},null,8,["src"])]),_:1}),t(l,{cols:"5"},{default:s(()=>[r("h2",D,i(e.name),1),r("h2",I,"NT : $"+i(e.price),1),r("p",null,"\u5546\u54C1\u4ECB\u7D39 : "+i(e.description),1),t(l),r("p",null,"\u7A2E\u985E : "+i(e.category),1),t(l),t(p,{justify:"center"},{default:s(()=>[t(q,{modelValue:c.value,"onUpdate:modelValue":o[1]||(o[1]=n=>c.value=n),onSubmit:N(y,["prevent"])},{default:s(()=>[t(C,{type:"number",label:"\u6578\u91CF",modelValue:u.value,"onUpdate:modelValue":o[0]||(o[0]=n=>u.value=n),rules:g},null,8,["modelValue","rules"])]),_:1},8,["modelValue","onSubmit"]),t(T),t(U,{color:"black",type:"submit"},{default:s(()=>[K]),_:1})]),_:1}),t(F,{class:"align-center justify-center","model-value":!e.sell},{default:s(()=>[M]),_:1},8,["model-value"])]),_:1})]),_:1})]))}};export{L as default};
